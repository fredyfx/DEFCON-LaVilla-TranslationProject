#!/bin/bash

# Script to download files from URLs listed in a text file
# Usage: ./download_files.sh [filename]

echo "
-----------------------=*#%%%%%%%%%%%%#*=------------------------------
------------------*%%%%%%%%%%%%%%%%%%%%%%%%%%*-------------------------
--------------+%%%%%%%#=----*------*+---=#%%%%%%%+---------------------
-----------+%%%%%#-----+--*+%#+%+*=%=-#*=----=#%%%%%+------------------
---------#%%%%*---=-#**+*--%*-+-===*--%+=%*+%=#--*%%%%#----------------
-------%%%%#--%+##-%**----+*#%%%%%%#*+----*%+%-%*---#%%%%--------------
-----#%%%#---%-%-#---#%%%%%%%%%%%%%%%%%%%%#---*+#%%---#%%%#------------
---=%%%#--##--#--=%%%%%%%%#+=------=+#%%%%%%%%=--%#--%=-%%%%=----------
--#%%%---%%=#--#%%%%%#--------------------#%%%%%#--=%--=--%%%#---------
-%%%%----%%--#%%%%#--------------------------#%%%%#---%*+#-%%%#--------
%%%*--%%=--+%%%%+------------------------------+%%%%+-*%=#--*%%%-------
%%*--++%=-%%%%*----------------------------------#%%%#-=+%#--#%%#------
%#--%*=--%%%%--------------------------------------%%%%-=%%---#%%*-----
%--*%*--%%%%----------------------------------------%%%%-=#-=--%%%-----
---+%*-#%%%------------------------------------------%%%*-+*#--=%%#----
--=----%%%-------------------------------------------=%%%-####--%%%----
--%*#-%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
-=%%--%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
--=%-------------------------------------------------------------------
--*%-=***----------+%%%%%%------------#%%%%%#--------------------------
--*%-=%%%---------*%+----+%----------%#=----#%-------------------------
------%%%=-------------------------------------------------------------
-%%%+-%%%#----+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%*----#%%%%%%%%%%%%%%%%
----=--%%%-----%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%-----%%%%%%%%%%%%%%%%%
--%*-*-#%%%-----%%%=------------------------*%%%-----%%%#++*+--=%%#----
%---+%--%%%%-----%%%+----------------------*%%%-----%%%%-*%+*--%%%-----
%*--#%#--%%%%-----#%%%-------------------=%%%#-----%%%%--=%*--#%%*-----
%%+--*##--%%%%*-----%%%%#-------------=#%%%%-----*%%%#--=*%--*%%#------
%%%*--=-%--*%%%%=-----#%%%%%%%%%%%%%%%%%%*-----=%%%%+----%*-*%%%-------
-%%%#-*#*+%--%%%%%*-------*%%%%%%%%%%*-------*%%%%#--+##---#%%#--------
--#%%%---#=**--#%%%%%*--------------------*%%%%%#--#=*%---%%%#---------
---+%%%#--==#+%--+%%%%%%%%#=--------+#%%%%%%%%=--*%-%=--#%%%=----------
-----%%%%*---#--%#--=#%%%%%%%%%%%%%%%%%%%%#=--#=%+*---*%%%#------------
-------%%%%#---%#%-**-#---*#%%%%%%%%#+------%--%*---#%%%%--------------
---------%%%%%+--*=%---%+*##-==---+-*%+-#-%*+#---+%%%%%----------------
-----------*%%%%%#-----##*+=%#*#-#=%#*%--#----#%%%%%*------------------
--------------*%%%%%%%*-------------+=---*%%%%%%%*---------------------
------------------#%%%%%%%%%%%%%%%%%%%%%%%%%%#-------------------------
-----------------------=#%%%%%%%%%%%%%%#=------------------------------
-----------------------------------------------------------------------
-----Author: @fredyfx--------------------------------------------------
-----With all the power 2.0 for La Villa Hacker at DEFCON!!!-----------
-----Visit https://lavillahacker.com/ ---------------------------------
-----------------------------------------------------------------------
"

# Default filename if none provided
FILENAME=${1:-"urls.txt"}

# Check if the file exists
if [ ! -f "$FILENAME" ]; then
    echo "Error: File '$FILENAME' not found!"
    echo "Usage: $0 [filename]"
    exit 1
fi

echo "Starting downloads from $FILENAME..."
echo "=================================="

# Read each line from the file and execute wget
while IFS= read -r line; do
    # Skip empty lines
    if [ -n "$line" ]; then
        # Extract ID and URL from the line (format: "ID URL")
        id=$(echo "$line" | cut -d' ' -f1)
        url=$(echo "$line" | cut -d' ' -f2-)
        
        # Skip if no URL found
        if [ -n "$url" ]; then
            echo "Downloading ID $id: $url"
            wget "$url"
            echo "---"
        else
            echo "Warning: No URL found for ID $id"
        fi
    fi
done < "$FILENAME"

echo "All downloads completed!"